# We have a conf and classes directory, add to BBPATH
BBPATH .= ":${LAYERDIR}"

# We have recipes-* directories, add to BBFILES
BBFILES += "${LAYERDIR}/recipes-*/*/*.bb \
            ${LAYERDIR}/recipes-*/*/*.bbappend"

BBFILE_COLLECTIONS += "meta-optologic-tdx-ti"
BBFILE_PATTERN_meta-optologic-tdx-ti = "^${LAYERDIR}/"
# This layer has higher priority than the meta-toradex-* layers
BBFILE_PRIORITY_meta-optologic-tdx-ti = "26"

LAYERDEPENDS_meta-optologic-tdx-ti = "core toradex-ti-layer meta-optologic-tdx-common"
LAYERSERIES_COMPAT_meta-optologic-tdx-ti = "scarthgap"

# Toradex kernel recipes rely on using a Toradex defined MACHINE instead of a custom one.
# To extend a MACHINE configuration, a conf file has to be loaded in layer.conf
# https://developer.toradex.com/linux-bsp/os-development/build-yocto/custom-meta-layers-recipes-and-images-in-yocto-project-hello-world-examples#add-a-custom-kernel-configuration
require conf/machine/include/optologic-extra-ti.inc
